relations:
  queries:
    - csv_url: 'data/relationships.csv'
      filters:
        _type: "officer_of"
        link: "dir"
      entities:
        officer:
          schema: Directorship
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            director:
              column: _start
            organization:
              column: _end
    - csv_url: 'data/relationships.csv'
      filters:
        _type: "officer_of"
        link: "shareholder"
      entities:
        officer:
          schema: Ownership
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            owner:
              column: _start
            asset:
              column: _end
    - csv_url: 'data/relationships.csv'
      filters:
        _type: "officer_of"
        link: "owner"
      entities:
        officer:
          schema: Ownership
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            owner:
              column: _start
            asset:
              column: _end
    - csv_url: 'data/relationships.csv'
      filters:
        _type: "officer_of"
        link: "representative"
      entities:
        officer:
          schema: Representation
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            agent:
              column: _start
            client:
              column: _end
    - csv_url: 'data/relationships.csv'
      filters:
        _type: "intermediary_of"
      entities:
        intermediary:
          schema: Representation
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            agent:
              column: _start
            client:
              column: _end
    - csv_url: 'data/relationships.csv'
      filters_not:
        _type: "intermediary_of"
        _type: "officer_of"
        _type: "registered_address"
      entities:
        unknown:
          schema: UnknownLink
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            subject:
              column: _start
            object:
              column: _end
    - csv_url: 'data/relationships.csv'
      filters:
        _type: "officer_of"
      filters_not:
        link: "shareholder"
        link: "owner"
        link: "dir"
        link: "representative"
      entities:
        unknown:
          schema: UnknownLink
          keys:
            - _start
            - _end
            - link
          properties:
            startDate:
              column: start_date
            endDate:
              column: end_date
            role:
              column: link
            subject:
              column: _start
            object:
              column: _end
